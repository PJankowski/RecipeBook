var express=require("express"),path=require("path"),logger=require("morgan"),mongoose=require("mongoose"),bodyParser=require("body-parser"),app=express();mongoose.connect("mongodb://localhost/recipeBook",function(e){e?console.log(e):console.log("Connected!")}),app.use(logger("dev")),app.set("PORT",process.env.PORT||8e3),app.use(bodyParser.urlencoded({extended:!1})),app.use(bodyParser.json()),"development"==process.env.NODE_ENV?app.use(express["static"](path.join(__dirname,"src"))):app.use(express["static"](path.join(__dirname,"client")));var config=require("./server/config"),recipes=require("./server/controllers/recipes");require("./server/routes")(app),app.listen(app.get("PORT"),function(){console.log("Listening on port "+app.get("PORT"))}),exports=module.exports=app;